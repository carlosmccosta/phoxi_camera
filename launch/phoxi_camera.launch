<launch>
    <node pkg="phoxi_camera" type="phoxi_camera" name="phoxi_camera" output="screen" clear_params="true">
        <rosparam file="$(find phoxi_camera)/config/phoxi_camera.yaml" command="load"/>
        <param name="camera_info_url" type="str" value="file://$(find phoxi_camera)/config/camera_info.yaml"/>
        <param name="image_latched_publisher" type="bool" value="true"/>
        <remap from="phoxi_camera/pointcloud" to="/camera/depth_registered/points" />
    </node>

    <node name="$(anon dynparam)" pkg="dynamic_reconfigure" type="dynparam" args="set_from_parameters phoxi_camera">
        <param name="generate_point_cloud_with_only_valid_points" type="bool" value="true" />
        <param name="texture_contrast_limited_adaptive_histogram_equalization_size_x" type="int" value="2" />
        <param name="texture_contrast_limited_adaptive_histogram_equalization_size_y" type="int" value="2" />
        <param name="send_confidence_map" type="bool" value="true" />
    </node>
</launch>
